<title>{{title}}</title>
<div class="row">
  <div class="col-sm-4"></div>
  <div class="col-sm">
    <form class="text-center">
      <legend class="text-">Signup</legend>
      <div class="form-group">
        <div>
          <div>
            <label for="email" class="form-label mt-4">Email address</label>
            <input  name="email" id="email" type="email" #emailref="ngModel"  class="form-control"
                   aria-describedby="emai lHelp" placeholder="Enter email"
                   required pattern="^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])"
                   [class.is-invalid]="emailref.invalid"
                   [class.is-valid]="emailref.valid"
                   #email [(ngModel)]="email_address" (input)="email_changed(emailref)">
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small><br>
            <div class="invalid-feedback">please enter a valid email</div>
          </div>
          <div>
            <label class="form-label mt-4" for="username">Username</label>
            <input name="username" type="text"  placeholder="username"class="form-control" id="username" [class.is-invalid]="!username_valid && username_used" [class.is-valid]="username_valid && username_used" (input)="username_changed(username.value)" #username>
            <div class="valid-feedback">This Username is available.</div>
            <div class="invalid-feedback">This Username is taken</div>
          </div>
        </div>
        <div>
          <label class="form-label mt-4" for="username">Password</label>
          <input name="password1" type="password"  placeholder="password" class="form-control is-invalid" [class.is-invalid]="!pass1_valid && pass1_used" [class.is-valid]="pass1_used && pass1_valid" id="password-1" (input)="password1_update(password1.value, password2.value)" #password1>
          <div class="invalid-feedback">
            The password must be 8+ characters long
            the password must include at least 1 special character, 1 uppercase character, one lowercase character and 1 number
          </div>
          <div class="valid-feedback">
            This password is good!
          </div>
        </div>
        <div>
          <label class="form-label mt-4" for="username">Confirm Password</label>
          <input name="password2" type="password" placeholder="password" class="form-control" id="password-2" [class.is-invalid]="!pass2_valid && pass2_used" [class.is-valid]="pass2_used && pass2_valid" (input)="password2_update(password1.value, password2.value)" #password2>
          <div class="invalid-feedback">
            <h4>password requirements</h4>
            <ul>
              <li>Make sure that the passwords match</li>
            </ul>
          </div>
          <div class="valid-feedback">This password is good</div>
        </div>
      </div>
      <br><br>
      <button class="btn btn-primary" (click)="signup()">Signup</button>
    </form>
  </div>
  <div class="col-sm" ></div>
</div>
